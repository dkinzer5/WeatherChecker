const corsProxyUrl="https://cors-anywhere.herokuapp.com/",base="https://api.darksky.net/forecast/",key="dabb5db3df15680798d5c40bd2024ff4/";let longitude="",latitude="";const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=["January","February","March","April","May","June","July","August","September","October","November","December"],locationButton=document.querySelector("#locationFinder"),displayGrid=document.querySelector("#grid"),boxes=document.querySelectorAll(".box"),loading=document.querySelector(".location"),modal=document.querySelector("#simpleModal"),about=document.querySelector("#about"),closeBtn=document.querySelector(".closeBtn");function getDeviceLocation(){navigator.geolocation||console.log("Not supported by browser"),navigator.geolocation.getCurrentPosition(function(e){console.log("Success!"),longitude=e.coords.longitude,latitude=e.coords.latitude,fetch(corsProxyUrl+(base+key+latitude+",")+longitude).then(e=>e.json()).then(e=>{e.daily.data.forEach(e=>{let o=Math.round(e.apparentTemperatureHigh),t=Math.round(e.apparentTemperatureLow),n=e.summary,a=e.time,d=new Date(1e3*a),l=days[d.getDay()],c=d.getDate(),i=d.getMonth(),r=d.getFullYear(0),s=document.createElement("div");s.innerHTML=`<div class="day">\n                                        <h1> ${l} </h1>\n                                     </div>\n                                     <div class="info">\n                                        <p class="date">${months[i]} ${c}, ${r}</p>\n                                        <h1> &#x2B06; ${o}°F</h1>\n                                        <h1> &#x2B07; ${t}°F</h1>\n                                        <p>${n}</p>\n                                     </div>`,s.className="box",displayGrid.appendChild(s)})}),loading.style.display="none"},function(e){console.log(e),alert("Oops! No location service..Try zipcode feature")})}function closeModal(){console.log("abc"),modal.style.display="none"}function openModal(){modal.style.display="block"}function outsideClick(e){e.target==modal&&(modal.style.display="none")}locationButton.addEventListener("click",getDeviceLocation),about.addEventListener("click",openModal),closeBtn.addEventListener("click",closeModal),window.addEventListener("click",outsideClick),window.onload=function(){getDeviceLocation()};