const corsProxyUrl="https://cors-anywhere.herokuapp.com/",base="https://api.darksky.net/forecast/",key="dabb5db3df15680798d5c40bd2024ff4/";let longitude="",latitude="";const days=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months=["January","February","March","April","May","June","July","August","September","October","November","December"],locationButton=document.querySelector("#locationFinder"),displayGrid=document.querySelector("#grid"),boxes=document.querySelectorAll(".box");function getDeviceLocation(){navigator.geolocation||console.log("Not supported by browser"),navigator.geolocation.getCurrentPosition(function(e){console.log("Success!"),longitude=e.coords.longitude,latitude=e.coords.latitude,fetch(corsProxyUrl+(base+key+latitude+",")+longitude).then(e=>e.json()).then(e=>{e.daily.data.forEach(e=>{let o=e.apparentTemperatureHigh,t=e.apparentTemperatureLow,a=e.summary,n=e.time,r=new Date(1e3*n),d=days[r.getDay()],i=r.getDate(),c=r.getMonth(),l=r.getFullYear(0),s=document.createElement("div");s.innerHTML=`<div class="day">\n                                        <h1> ${d} </h1>\n                                     </div>\n                                     <div class="info">\n                                        <p class="date">${months[c]} ${i}, ${l}</p>\n                                        <h1>${o} / ${t}</h1>\n                                        <p>${a}</p>\n                                     </div>`,s.className="box",displayGrid.appendChild(s)})})},function(e){console.log(e),alert("Oops! No location service..Try zipcode feature")})}locationButton.addEventListener("click",getDeviceLocation),window.onload=function(){getDeviceLocation()};